"use strict";(self.webpackChunkng_client=self.webpackChunkng_client||[]).push([[828],{4828:(u,p,i)=>{i.r(p),i.d(p,{PostsModule:()=>O});var g=i(6814),t=i(4946),r=i(9310),l=i(9215),s=i(95);function m(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"span",24),t._uU(2),t.qZA(),t.BQk()),2&o){const n=a.$implicit;t.xp6(2),t.hij(" ",n.name," ")}}function _(o,a){if(1&o&&(t.TgZ(0,"li")(1,"div",26)(2,"div",10),t._UZ(3,"img",11),t.TgZ(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"div",27)(7,"span")(8,"small"),t._uU(9),t.qZA()()()(),t.TgZ(10,"p"),t._uU(11),t.qZA()()),2&o){const n=a.$implicit;t.xp6(3),t.Q6J("src",null==n?null:n.picture_avatar,t.LSH),t.xp6(2),t.hij(" De ",null==n?null:n.comment_author,""),t.xp6(4),t.hij(" le ",n.createdAt," "),t.xp6(2),t.Oqu(null==n?null:n.content)}}function C(o,a){if(1&o&&(t.TgZ(0,"ul"),t._UZ(1,"div",25),t.YNc(2,_,12,4,"li",4),t.qZA()),2&o){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.commentsList)}}function P(o,a){1&o&&(t.TgZ(0,"p"),t._uU(1," Aucun commentaire"),t.qZA())}const M=[{path:":id",component:(()=>{class o{constructor(n,c,e,d){this.route=n,this.authService=c,this.postService=e,this.commentsService=d,this.postId=1,this.console=console,this.errorMessage="",this.commentText="",this.commentsList=[]}ngOnInit(){let n=this.route.snapshot.paramMap.get("id");this.postId=Number(n),this.userId=this.authService.userDatasStored.id,this.getAllPosts()}getAllPosts(){this.postService.getOnePost(this.postId).subscribe({next:n=>{this.post=n[0],this.commentsList=this.post.comments},error:n=>{this.console.log(n),this.errorMessage=n}})}addComment(){this.commentsService.addNewComment(this.commentText,this.userId,this.postId).subscribe({next:n=>{this.getAllPosts()},error:n=>{this.console.log(n),this.errorMessage=n}}),this.commentText=""}static#t=this.\u0275fac=function(c){return new(c||o)(t.Y36(r.gz),t.Y36(l.e8),t.Y36(l.LY),t.Y36(l.rB))};static#n=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-detail-post"]],decls:41,vars:13,consts:[[1,"global-detail-post"],[1,"app-detail","show-post"],[1,"card-body-post"],[1,"post-category-date"],[4,"ngFor","ngForOf"],[1,"date"],[1,"container-thumbnail"],[3,"src"],[1,"post-text"],[1,"post-bottom"],[1,"author-info"],["width","'15px'","height","'15px'",3,"src"],[1,"container-btn"],[1,"fa-solid","fa-thumbs-up"],[1,"fa-solid","fa-thumbs-down"],[1,"app-detail","diplay-comments"],[1,"title"],[4,"ngIf"],[1,"app-detail","add-comments"],[1,"mb-3"],["for","exampleFormControlTextarea1",1,"form-label"],["rows","7","name","comment-writing",1,"form-control",3,"ngModel","ngModelChange"],[1,"send-comment-control"],["id","add-comment",1,"btn-submit",3,"disabled","click"],[1,"category"],[1,"cache-header-scroll"],[1,"comment-infos"],[1,"comment-date"]],template:function(c,e){1&c&&(t.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3),t.YNc(4,m,3,1,"ng-container",4),t.TgZ(5,"span",5),t._uU(6),t.qZA()(),t.TgZ(7,"h1"),t._uU(8),t.qZA(),t.TgZ(9,"div",6),t._UZ(10,"img",7),t.qZA(),t.TgZ(11,"div",8)(12,"p"),t._uU(13),t.qZA()()(),t.TgZ(14,"div",9)(15,"div",10),t._UZ(16,"img",11),t.TgZ(17,"span"),t._uU(18),t.qZA()(),t.TgZ(19,"div",12)(20,"button"),t._UZ(21,"i",13),t._uU(22),t.qZA(),t.TgZ(23,"button"),t._UZ(24,"i",14),t._uU(25),t.qZA()()()(),t.TgZ(26,"section",15)(27,"div",16)(28,"h3"),t._uU(29," Commentaires"),t.qZA()(),t.YNc(30,C,3,1,"ul",17),t.YNc(31,P,2,0,"p",17),t.qZA(),t.TgZ(32,"section",18)(33,"form")(34,"div",19)(35,"label",20),t._uU(36,"Saisissez votre commentaire:"),t.qZA(),t.TgZ(37,"textarea",21),t.NdJ("ngModelChange",function(h){return e.commentText=h}),t.qZA()(),t.TgZ(38,"div",22)(39,"button",23),t.NdJ("click",function(){return""!==e.commentText?e.addComment():null}),t._uU(40,"Envoyer"),t.qZA()()()()()),2&c&&(t.xp6(4),t.Q6J("ngForOf",e.post.categories),t.xp6(2),t.hij(" Le ",e.post.createdAt," "),t.xp6(2),t.hij("",e.post.title," "),t.xp6(2),t.Q6J("src",e.post.thumbnail,t.LSH),t.xp6(3),t.hij("",e.post.content," "),t.xp6(3),t.Q6J("src",e.post.picture_author_post,t.LSH),t.xp6(2),t.hij(" De ",e.post.author,""),t.xp6(4),t.hij(" ",e.post.likes," "),t.xp6(3),t.hij(" ",e.post.dislikes," "),t.xp6(5),t.Q6J("ngIf",e.commentsList.length>0),t.xp6(1),t.Q6J("ngIf",0===e.commentsList.length),t.xp6(6),t.Q6J("ngModel",e.commentText),t.xp6(2),t.Q6J("disabled",""===e.commentText))},dependencies:[g.sg,g.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.F],styles:[".global-detail-post[_ngcontent-%COMP%]{padding-top:50px;width:95%;margin:0 auto}.global-detail-post[_ngcontent-%COMP%]   section.app-detail[_ngcontent-%COMP%]{max-width:950px;width:100%;margin:0 auto;padding:0}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]{width:100%}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]   .post-category-date[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]   .post-category-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-radius:50px;display:block;width:-moz-fit-content;width:fit-content}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]   .post-category-date[_ngcontent-%COMP%]   span.category[_ngcontent-%COMP%]{background-color:#ecf9e9;color:green;padding:5px 12px}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]   .post-category-date[_ngcontent-%COMP%]   span.category[_ngcontent-%COMP%]:not(:last-of-type){margin-right:5px}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]   .post-category-date[_ngcontent-%COMP%]   span.date[_ngcontent-%COMP%]{color:gray;margin-left:8px;font-size:12px}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin:40px 0 0}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]   .container-thumbnail[_ngcontent-%COMP%]{width:50%;height:auto;margin:0 auto;padding:40px 0}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]   .container-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:cover}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]   div.post-text[_ngcontent-%COMP%]{margin-bottom:27px}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]   div.post-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:justify}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   div.post-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   div.post-bottom[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   div.post-bottom[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   div.post-bottom[_ngcontent-%COMP%]   .container-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;margin:0 2px}.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   div.post-bottom[_ngcontent-%COMP%]   .container-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#515250}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]{margin-top:60px}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50px;background-color:#564ee8;padding:10px 30px;color:#fff;cursor:pointer}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{border:1px solid rgb(222,222,222);padding:0;position:relative;margin:25px 0;list-style:none;border-radius:10px}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .cache-header-scroll[_ngcontent-%COMP%]{background-color:#dedede;position:sticky;border-top-left-radius:10px;border-top-right-radius:10px;z-index:99999;top:0;height:30px;opacity:.8}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:15px 0;margin:0 25px}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid rgb(218,218,218)}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .comment-infos[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .comment-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:gray}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .comment-infos[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]{display:flex;gap:15px}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .comment-infos[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:30px;height:30px}.global-detail-post[_ngcontent-%COMP%]   section.diplay-comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:45px;margin-bottom:0}.global-detail-post[_ngcontent-%COMP%]   section.add-comments[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-bottom:15px;display:block}.global-detail-post[_ngcontent-%COMP%]   section.add-comments[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:10px;border:1px solid rgb(222,222,222);border-radius:15px}.global-detail-post[_ngcontent-%COMP%]   section.add-comments[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.send-comment-control[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:15px}.global-detail-post[_ngcontent-%COMP%]   section.add-comments[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.send-comment-control[_ngcontent-%COMP%]   button#add-comment[_ngcontent-%COMP%]{outline:0;border:none;padding:10px 30px;border-radius:50px;background-color:#564ee8;color:#fff;font-weight:400;font-size:16px;box-shadow:0 4px 14px #8c66c963;transition:background .2s ease,color .2s ease,box-shadow .2s ease}.global-detail-post[_ngcontent-%COMP%]   section.add-comments[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.send-comment-control[_ngcontent-%COMP%]   button#add-comment[_ngcontent-%COMP%]:disabled{background-color:gray}.global-detail-post[_ngcontent-%COMP%]   section.add-comments[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.send-comment-control[_ngcontent-%COMP%]   button#add-comment[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#564ee8;box-shadow:0 6px 20px #0076ff3b;cursor:pointer}@media only screen and (max-width: 900px){.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]   .container-thumbnail[_ngcontent-%COMP%]{width:75%}}@media only screen and (max-width: 600px){.global-detail-post[_ngcontent-%COMP%]   section.show-post[_ngcontent-%COMP%]   .card-body-post[_ngcontent-%COMP%]   .container-thumbnail[_ngcontent-%COMP%]{width:90%}}"]})}return o})()}];let O=(()=>{class o{static#t=this.\u0275fac=function(c){return new(c||o)};static#n=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[g.ez,r.Bz.forChild(M)]})}return o})()}}]);